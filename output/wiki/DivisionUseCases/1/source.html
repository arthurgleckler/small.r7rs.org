
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>Source for wiki DivisionUseCases version 1</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1>Source for wiki DivisionUseCases version 1</h1>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>comment</h2>
    <pre></pre>
    <h2>ipnr</h2>
    <pre>66.108.19.185</pre>
    <h2>name</h2>
    <pre>DivisionUseCases</pre>
    <h2>readonly</h2>
    <pre>0</pre>
    <h2>text</h2>
    <pre>== Use cases for the six division functions of R7RS draft 6 ==

=== Truncate ===

Truncate is really not defensible, but it's everywhere, including R5RS.  If you want to transcribe an algorithm from some computer language that doesn't have exact rationals, it will usually have truncating division, and it pays to have a way to express this.  On the other hand, when you use truncating division, you usually ought to be using something else, and maybe you should rethink the algorithm.

By rule, bowling averages are truncated.  There may be other domain-specific uses.

=== Floor ===

The floor function is almost always used for integer division if truncation isn't: for example, the Basic `int()` function is `floor-quotient`.  Therefore it too is useful for algorithmic conversion.  It is generally felt to be better than truncation.  There are a number of mathematical applications given on [http://en.wikipedia.org/wiki/Floor_and_ceiling_functions the Wikipedia page].

The R5RS `modulo` is the flooring remainder, on the assumption that `(modulo (/ n d))` is the residue of `n` mod `d`.  However, that doesn't work if `d` is negative; the `euclidean-remainder` does what you want in this case.

=== Ceiling ===

If you want to know how many fixed-sized containers that hold (physically or conceptually) `d` items each you need to hold `n` items altogether, you want `(ceiling-quotient (/ n d))`.

Similarly, if items are 3 for $1.00, then they are normally $0.34 per item, a variant of the same notion.  This prevents customers from making three transactions at $0.33 each in order to save a penny.

=== Round ===

Rounding is important when multiple calculations are being done, because it is as close to unbiased as possible.  IEEE floating-point operations report rounded versions of transcendental numbers so that errors will be likely to offset one another rather than accumulate.

=== Euclidean ===

Euclidean division is useful for reducing a hash value safely.  If we have a signed number `p` and wish to reduce it mod `q`, then `(euclidean-remainder (/ n d))` is guaranteed to produce a non-negative number `r` such that `(&lt; 0 r (abs d))` , no matter the signs of `n` and `d`.  

=== Centered ===

Centered division is analogous to Euclidean division, except that the remainder satisfies `(&lt; (- (abs (/ q 2))) r (abs (/ q 2)))`.  When d is 2^k^ for some ''k'', this is the interval of integers representable in two's-complement with `(- k 1)` bits.</pre>
    <h2>time</h2>
    <pre>2012-03-22 04:31:23</pre>
    <h2>version</h2>
    <pre>1</pre></body></html>