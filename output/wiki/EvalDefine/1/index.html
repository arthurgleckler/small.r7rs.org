
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>EvalDefine</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>. For a version of this page that may be more recent, see <a href="https://github.com/johnwcowan/r7rs-work/blob/master/EvalDefine.md">EvalDefine</a> in WG2's repo for R7RS-large.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1 class="wiki">Eval&shy;Define</h1>
    <div class="wiki metadata">
      <div class="author">cowan</div>
      <div class="time">2012-06-26 06:46:29</div>
      <div class="version">1<span class="comment"></span><a href="/wiki/EvalDefine/history">history</a></div>
      <div class="source"><a href="/wiki/EvalDefine/1/source.html">source</a></div></div>
    <div class="wiki text">
      <p>R5RS does not require <span class="monospace">eval</span> to accept definitions.  It also requires a second argument specifying the evaluation environment; invoking <span class="monospace">(interaction-environment)</span> returns an environment object that represents the REPL environment.  I ran tests on the suite of Schemes to see what was supported where.</p>
      <p>runallschemes define eval
<b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b>*</p>
      <ul>
        <li>*</li>
        <li>*</li>
        <li>*</li>
        <li>*</li>
        <li>*</li>
        <li>RUN ALL SCHEMES                             *</li>
        <li>define eval</li>
        <li>*</li>
        <li>*</li>
        <li>*</li>
        <li>*</li>
        <li>*</li></ul>
      <p><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b><b>*</b>*</p>
      <h5 id="RACKET">RACKET</h5>
      <p>Welcome to Racket v5.1.3.</p>
      <blockquote class="citation">
        <p>(eval '(define x 32) (interaction-environment)) x (eval '(define y 55)) y
 reference to undefined identifier: x
 &gt; 55</p></blockquote>
      <h5 id="GAUCHE">GAUCHE</h5>
      <p>gosh&gt; (eval '(define x 32) (interaction-environment)) x (eval '(define y 55)) y
x
gosh&gt; 32
gosh&gt; <b>* ERROR: wrong number of arguments for #&lt;subr eval&gt; (required 2, got 1)
Stack Trace:
<u>_</u><u>_</u><u>_</u><u>_</u><u>_</u><u>_</u><u>_</u>____
gosh&gt; </b>* ERROR: unbound variable: y
Stack Trace:
<u>_</u><u>_</u><u>_</u><u>_</u><u>_</u><u>_</u><u>_</u>____
gosh&gt; ===== MIT =====
MIT/GNU Scheme running under GNU/Linux
Type <span class="monospace">^C' (control-C) followed by </span>H' to obtain information about interrupts.</p>
      <p>Copyright (C) 2011 Massachusetts Institute of Technology
This is free software; see the source for copying conditions. There is NO warranty; not even for
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
      <p>Image saved on Thursday March 1, 2012 at 1:27:49 AM
  Release 9.1.1 || Microcode 15.3 || Runtime 15.7 || SF 4.41 || LIAR/i386 4.118 || Edwin 3.116</p>
      <p>1 ]=&gt; (eval '(define x 32) (interaction-environment)) x (eval '(define y 55)) y</p>
      <p>;Unbound variable: interaction-environment
;To continue, call RESTART with an option number:
; (RESTART 3) =&gt; Specify a value to use instead of interaction-environment.
; (RESTART 2) =&gt; Define interaction-environment to a given value.
; (RESTART 1) =&gt; Return to read-eval-print level 1.</p>
      <p>2 error&gt; 
;Unbound variable: x
;To continue, call RESTART with an option number:
; (RESTART 4) =&gt; Specify a value to use instead of x.
; (RESTART 3) =&gt; Define x to a given value.
; (RESTART 2) =&gt; Return to read-eval-print level 2.
; (RESTART 1) =&gt; Return to read-eval-print level 1.</p>
      <p>3 error&gt; 
;The procedure #[compiled-procedure 11 (&quot;global&quot; #x35) #xf #x2d0dbf] has been called with 1 argument; it requires exactly 2 arguments.
;To continue, call RESTART with an option number:
; (RESTART 3) =&gt; Return to read-eval-print level 3.
; (RESTART 2) =&gt; Return to read-eval-print level 2.
; (RESTART 1) =&gt; Return to read-eval-print level 1.</p></div></body></html>