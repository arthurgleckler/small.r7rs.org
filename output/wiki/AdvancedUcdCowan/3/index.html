
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>AdvancedUcdCowan</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>. For a version of this page that may be more recent, see <a href="https://github.com/johnwcowan/r7rs-work/blob/master/AdvancedUcdCowan.md">AdvancedUcdCowan</a> in WG2's repo for R7RS-large.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1 class="wiki">Advanced&shy;Ucd&shy;Cowan</h1>
    <div class="wiki metadata">
      <div class="author">cowan</div>
      <div class="time">2012-04-22 09:46:02</div>
      <div class="version">3<span class="comment"></span><a href="/wiki/AdvancedUcdCowan/history">history</a></div>
      <div class="source"><a href="/wiki/AdvancedUcdCowan/3/source.html">source</a></div></div>
    <div class="wiki text">
      <p>See <a href="/wiki/UcdCowan">UcdCowan</a> for basic UCD procedures.</p>
      <p>It is an error to mutate any objects returned by these procedures.</p>
      <h2 id="Blocks">Blocks</h2>
      <p><i>Blocks</i> are disjoint objects that represent the allocation blocks into which the Unicode code point space is divided for administrative purposes.  Typically most of a block is allocated at once and contains characters from a single script, but there is often more than one block per script, some blocks contain characters from multiple scripts, and some characters in a block are allocated much later than the rest.  The list of blocks provided is implementation-dependent.  Since it is not possible to create new ones, <span class="monospace">eqv?</span> may be used to compare them.</p>
      <p><span class="monospace">(blocks)</span></p>
      <p>Returns a list of all blocks known to the implementation.</p>
      <p><span class="monospace">(block-name </span><i>block</i><span class="monospace">)</span></p>
      <p>Returns a string naming <i>block</i>.</p>
      <p><span class="monospace">(block-first </span><i>block</i><span class="monospace">)</span></p>
      <p>Returns an exact integer representing the first (smallest) code point in the block.</p>
      <p><span class="monospace">(block-last </span><i>block</i><span class="monospace">)</span></p>
      <p>Returns an exact integer representing the last (largest) code point in the block.</p>
      <h2 id="NamedSequences">Named Sequences</h2>
      <p>Named sequences are disjoint objects which represent a sequence of Unicode code points that has a name specified by the Unicode Standard.  Named sequences may be provisional in one version of the UCD and then non-provisional in later versions.  The list of named sequences provided is implementation-dependent.  Since it is not possible to create new ones, <span class="monospace">eqv?</span> may be used to compare them.</p>
      <p><span class="monospace">(named-sequences)</span></p>
      <p>Returns a list of all named sequence objects known to the implementation.</p>
      <p><span class="monospace">(named-sequence-name </span><i>named-sequence</i><span class="monospace">)</span></p>
      <p>Returns a string naming <i>named-sequence</i>.</p>
      <p><span class="monospace">(named-sequence-code-points </span><i>named-sequence</i><span class="monospace">)</span></p>
      <p>Returns a list of exact integers representing the code points of the <i>named-sequence</i>.</p>
      <p><span class="monospace">(named-sequence-provisional? </span><i>named-sequence</i><span class="monospace">)</span></p>
      <p>Returns <span class="monospace">#t</span> if the <i>named-sequence</i> is provisional, or <span class="monospace">#f</span> if not.</p>
      <h2 id="Normalizationcorrections">Normalization corrections</h2>
      <p><i>Normalization-corrections</i> are disjoint objects that represent official corrections to the UCD normalization tables.  The list of normalization-corrections provided is implementation-dependent.  Since it is not possible to create new ones, <span class="monospace">eqv?</span> may be used to compare them.</p>
      <p><span class="monospace">(normalization-corrections)</span></p>
      <p>Returns a list of all normalization-corrections known to the implementation.</p>
      <p><span class="monospace">(normalization-correction-description </span><i>normalization-correction</i><span class="monospace">)</span></p>
      <p>Returns a string describing <i>normalization-correction</i>.  Note that normalization-corrections don't have names.</p>
      <p><span class="monospace">(normalization-correction-codepoint </span><i>normalization-correction</i><span class="monospace">)</span></p>
      <p>Returns an exact integer specifying the code point of the character whose normalization is being corrected.</p>
      <p><span class="monospace">(normalization-correction-old </span><i>normalization-correction</i><span class="monospace">)</span></p>
      <p>Returns a list of exact integers specifying the normalization of <span class="monospace">(normalization-correction-codepoint </span><i>block</i><span class="monospace">)</span> before <i>normalization correction</i> is applied.</p>
      <p><span class="monospace">(normalization-correction-new </span><i>normalization-correction</i><span class="monospace">)</span></p>
      <p>Returns a list of exact integers specifying the normalization of <span class="monospace">(normalization-correction-codepoint </span><i>block</i><span class="monospace">)</span> after <i>normalization correction</i> is applied.</p>
      <p><span class="monospace">(normalization-correction-version </span><i>normalization-correction</i><span class="monospace">)</span></p>
      <p>Returns a list of three exact integers specifying the version of the UCD (in the format of <span class="monospace">ucd-version</span>) in which <i>normalization-correction</i> was applied.</p>
      <h2 id="Standardizedvariants">Standardized variants</h2>
      <p><i>Standardized-variants</i> are disjoint objects that represent standardized variants of base charactesr.  The list of standardized-variants provided is implementation-dependent.  Since it is not possible to create new ones, <span class="monospace">eqv?</span> may be used to compare them.</p>
      <p><span class="monospace">(standardized-variants)</span></p>
      <p>Returns a list of all standardized-variants known to the implementation.</p>
      <p><span class="monospace">(standardized-variants-description </span><i>standardized-variant</i><span class="monospace">)</span></p>
      <p>Returns a string describing <i>standardized-variant</i>.  Note that standardized-variants don't have names.</p>
      <p><span class="monospace">(standardized-variants-when </span><i>standardized-variant</i><span class="monospace">)</span></p>
      <p>Returns a string specifying the shaping environment under which <i>standardized-variant</i> is applied.</p>
      <p><span class="monospace">(standardized-variant-base-codepoint </span><i>standardized-variant</i><span class="monospace">)</span></p>
      <p>Returns an exact integer specifying the code point of the base character of the standardized variant.</p>
      <p><span class="monospace">(standardized-variant-variant-codepoint </span><i>standardized-variant</i><span class="monospace">)</span></p>
      <p>Returns an exact integer specifying the code point of the base character of the standardized variant.
<b>Issue: this name is regrettable.</b></p>
      <h3 id="CJKradicals">CJK radicals</h3>
      <p><i>CJK-radicals</i> are disjoint objects that represent the mapping between a radical (which in turn represents the semantic portion of a CJK character) and the ideographic character identical to that radical.  The list of cjk-radicals provided is implementation-dependent.  Since it is not possible to create new ones, <span class="monospace">eqv?</span> may be used to compare them.</p>
      <p><span class="monospace">(cjk-radicals)</span></p>
      <p>Returns a list of all CJK-radicals known to the implementation.</p>
      <p><span class="monospace">(cjk-radical-number </span><i>cjk-radical</i><span class="monospace">)</span></p>
      <p>Returns an exact integer identifying <i>cjk-radical</i>.</p>
      <p><span class="monospace">(cjk-radical-codepoint </span><i>cjk-radical</i><span class="monospace">)</span></p>
      <p>Returns an exact integer representing the codepoint of <i>cjk-radical</i>.</p>
      <p><span class="monospace">(cjk-radical-ideograph </span><i>cjk-radical</i><span class="monospace">)</span></p>
      <p>Returns an exact integer representing the codepoint of the ideograph equivalent of <i>cjk-radical</i>.</p>
      <h2 id="UndigestedstufffromUAX#42">Undigested stuff from UAX <a href="/ticket/42">#42</a></h2>
      <h3 id="Emojisources">Emoji sources</h3>
      <p>The emoji-sources child of the ucd describes the emoji sources.</p>
      <p>[datatype for code points, 51] =  
  jis-code-point = xsd:string { pattern = &quot;[0-9A-F]{4}&quot; }</p>
      <p>[emoji sources, 52] =  
  ucd.content &amp;=
    element emoji-sources {
      element emoji-source {
        attribute unicode { one-or-more-code-points },
        attribute docomo { jis-code-point? },
        attribute kddi { jis-code-point? },
        attribute softbank { jis-code-point? } } + }?</p></div></body></html>