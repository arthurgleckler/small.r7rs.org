
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>ImmutableParametersCowan</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>. For a version of this page that may be more recent, see <a href="https://github.com/johnwcowan/r7rs-work/blob/master/ImmutableParametersCowan.md">ImmutableParametersCowan</a> in WG2's repo for R7RS-large.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1 class="wiki">Immutable&shy;Parameters&shy;Cowan</h1>
    <div class="wiki metadata">
      <div class="author">cowan</div>
      <div class="time">2010-07-21 06:16:38</div>
      <div class="version">1<span class="comment"></span><a href="/wiki/ImmutableParametersCowan/history">history</a></div>
      <div class="source"><a href="/wiki/ImmutableParametersCowan/1/source.html">source</a></div></div>
    <div class="wiki text">
      <h1 id="Parameters"><a href="/wiki/Parameters">Parameters</a></h1>
      <p>This proposal is an alternative to <a href="/wiki/ParametersSnellPym">ParametersSnellPym</a> which provides immutable parameter objects.  It is a subset of SRFI 39, with the difference being that passing a non-zero number of arguments to a parameter object has undefined effect rather than assigning a new value to the parameter object.  The effect of SRFI 39 mutable parameters can be emulated by binding a mutable object such as a pair to the parameter.  Binding parameter objects with the <span class="monospace">parameterize</span> form is still provided, of course.</p>
      <p>This proposal further specifies that when a parent thread creates a new child thread, the parameter objects in the child thread have <i>initial</i> values that are the same (in the sense of <span class="monospace">eqv?</span>) as their <i>current</i> (not initial) values in the parent thread.  Because parameter objects are immutable, it does not matter whether the underlying representation uses copying or sharing.</p>
      <p>I take the view that using parameter objects to share information between threads is an improper and unnecessary conflation of two distinct facilities, dynamic variables and thread-shared data.  Instead, some mechanism for exchanging data between threads, such as mailboxes, should be provided as a part of standardizing threads, probably in WG2.</p>
      <p>Most implementations that provides SRFI 39 can trivially provide this facility.  The exceptions are cases like Scheme48 which neither copy nor share parameter objects with child threads, but provide freshly initialized objects instead.</p>
      <p>Thanks to Taylor Campbell and Alaric Snell-Pym, who as usual are not responsible for this.</p></div></body></html>