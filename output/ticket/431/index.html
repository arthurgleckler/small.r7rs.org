
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>431: Formal Comment: continuation used when 'guard' re-raises an exception</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1 class="ticket">Ticket 431: <span class="summary">Formal Comment: continuation used when 'guard' re-raises an exception</span></h1>
    <div class="ticket metadata">
      <div class="changetime">2012-07-02 05:31:22</div>
      <div class="component">WG1 - Core</div>
      <div class="owner">alexshinn</div>
      <div class="priority">major</div>
      <div class="reporter">cowan</div>
      <div class="resolution">fixed</div>
      <div class="source"><a href="/ticket/431/source.html">source</a></div>
      <div class="status">closed</div>
      <div class="time">2012-07-02 02:22:13</div>
      <div class="type">defect</div></div>
    <div class="ticket">
      <div class="description">
        <p>Submitter's name: Richard Kelsey</p>
        <p>Submitter's email: kelsey at s48.org</p>
        <p>Relevant draft: r7rs draft 6</p>
        <p>Type: clarification</p>
        <p>Priority: minor</p>
        <p>Relevant section of draft: Derived expressions</p>
        <p>Summary: The continuation used when 'guard' re-raises an exception isn't specified.</p>
        <p>Page 19, Exception Handling (Handling should be lower case, by the way)</p>
        <p>&quot;If every cond's test evaluates to #f and there is no else clause, then raise-continuable is re-invoked on the raised object within the dynamic environment of the original call to raise except that the current exception handler is that of the guard expression.&quot;</p>
        <p>I think that the intent is that the raise-continuable have the same continuation as the handler installed by guard, but it doesn't actually say this.  Also, the original call might have been raise or raise-continuable.  I suggest changing this to:</p>
        <p>&quot;If every cond's test evaluates to #f and there is no else clause, then raise-continuable is invoked on the raised object with the continuation and dynamic environment of the installed exception handler's invocation, except that the current exception handler is that of the guard expression.&quot;</p></div>
      <div class="history">
        <div class="ticket change-group">
          <div class="metadata">
            <div class="author">cowan</div>
            <div class="time">2012-07-02 05:31:22</div></div>
          <div class="changes">
            <div><span class="field">resolution</span><span class="old-value">&blank;</span><span class="new-value">fixed</span></div>
            <div><span class="field">status</span><span class="old-value">new</span><span class="new-value">closed</span></div></div>
          <div class="comments">
            <div class="comment">
              <p>The reference to <span class="monospace">raise-continuable</span> was apparently an editorial error, and has been changed to <span class="monospace">raise</span>, which is what R6RS (and SRFI 34) say.</p></div></div></div></div></div></body></html>