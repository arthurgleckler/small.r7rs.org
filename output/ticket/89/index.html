
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>89: SRFI 61: COND =&gt; with generator and guard</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1 class="ticket">Ticket 89: <span class="summary">SRFI 61: COND =&gt; with generator and guard</span></h1>
    <div class="ticket metadata">
      <div class="changetime">2011-01-24 06:48:47</div>
      <div class="component">WG1 - Core</div>
      <div class="owner">alexshinn</div>
      <div class="priority">major</div>
      <div class="reporter">cowan</div>
      <div class="resolution">wontfix</div>
      <div class="source"><a href="/ticket/89/source.html">source</a></div>
      <div class="status">closed</div>
      <div class="time">2010-11-15 04:51:17</div>
      <div class="type">defect</div></div>
    <div class="ticket">
      <div class="description">
        <p>Currently, <span class="monospace">=&gt;</span> clauses in <span class="monospace">cond</span> have one argument to the left of the <span class="monospace">=&gt;</span>, the <i>generator</i>, and one to the right, the <i>receiver</i> (which must evaluate to a procedure).  The generator is evaluated.  If its value is <span class="monospace">#f</span>, the clause is abandoned.  Otherwise, the value of the generator is passed to the receiver as an argument, and its result is the result of the clause.</p>
        <p>Under this proposal, there may be two arguments to the left of the <span class="monospace">=&gt;</span>, the <i>generator</i> and the <i>guard</i> (which must evaluate to a procedure).  The generator is evaluated, and its value is passed to the guard.  If the guard returns <span class="monospace">#f</span>, the clause is abandoned.  Otherwise, the value of the generator is passed to the receiver as an argument, and its result is the result of the clause.  This allows the generator to return &quot;falsy values&quot; other than <span class="monospace">#f</span> (for example, () or an EOF object), which the guard is responsible for understanding.</p>
        <p><a href="http://srfi.schemers.org/srfi-61/srfi-61.html">SRFI 61</a> allows the generator to pass multiple arguments to the receiver; this extension is addressed in ticket <a href="/ticket/90">#90</a>.</p></div>
      <div class="history">
        <div class="ticket change-group">
          <div class="metadata">
            <div class="author">cowan</div>
            <div class="time">2011-01-24 06:48:47</div></div>
          <div class="changes">
            <div><span class="field">resolution</span><span class="old-value">&blank;</span><span class="new-value">wontfix</span></div>
            <div><span class="field">status</span><span class="old-value">new</span><span class="new-value">closed</span></div></div>
          <div class="comments">
            <div class="comment">
              <p>WG1 voted to reject this.</p></div></div></div></div></div></body></html>