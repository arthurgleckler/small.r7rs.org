
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>482: Module system is pointlessly inflexible</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1 class="ticket">Ticket 482: <span class="summary">Module system is pointlessly inflexible</span></h1>
    <div class="ticket metadata">
      <div class="changetime">2013-07-07 03:20:44</div>
      <div class="component">WG1 - Core</div>
      <div class="owner">alexshinn</div>
      <div class="priority">major</div>
      <div class="reporter">cowan</div>
      <div class="resolution">wontfix</div>
      <div class="source"><a href="/ticket/482/source.html">source</a></div>
      <div class="status">closed</div>
      <div class="time">2013-05-12 22:16:35</div>
      <div class="type">defect</div></div>
    <div class="ticket">
      <div class="description">
        <p>Sam Tobin-Hochstadt writes:</p>
        <p>The module system is pointlessly inflexible, and requires additional boilerplate beyond that in R6RS and other existing implementation-specific module systems.  Rather than lifting the restrictions present in other systems, it adds more, necessitating terrible additions such as <span class="monospace">include</span>.</p></div>
      <div class="history">
        <div class="ticket change-group">
          <div class="metadata">
            <div class="author">cowan</div>
            <div class="time">2013-05-12 22:19:07</div></div>
          <div class="changes"></div>
          <div class="comments">
            <div class="comment">
              <p>The R6RS module system is likewise basically static.  The only way to extend it is through the use of syntax-case macros, which were considered to be too complex and controversial for R7RS-small.  Note that <span class="monospace">include</span>, however terrible (and I don't think it is) is possible in the R6RS system, but not in a way that any static tool can analyze without making arbitrary presumptions.  Static analysis of R7RS modules is straightforward, as is extensibility at the level of the implementation.  Not everything in Scheme has to be maximally flexible.</p></div></div></div>
        <div class="ticket change-group">
          <div class="metadata">
            <div class="author">cowan</div>
            <div class="time">2013-05-12 22:24:20</div></div>
          <div class="changes"></div>
          <div class="comments">
            <div class="comment">
              <p>As for additional boilerplate, only a little is actually required.  You can convert an R6RS module into the draft's module language by changing <span class="monospace">library</span> to <span class="monospace">define-library</span> and wrapping everything except the <span class="monospace">import</span> and <span class="monospace">export</span> declarations into a <span class="monospace">begin</span> library declaration.  (Of course, this assumes that the implementation provides both R6RS and R7RS modules for import on equal terms, as Sagittarius Scheme does.)</p>
              <p>The draft's design provides the freedom to merge module interface and implementation seamlessly, as R6RS does, or to completely separate them, as Scheme48 does.  This is in my view an <i>excellent</i> example of where the draft has lifted restrictions rather than imposing them.</p></div></div></div>
        <div class="ticket change-group">
          <div class="metadata">
            <div class="author">cowan</div>
            <div class="time">2013-07-07 03:20:44</div></div>
          <div class="changes">
            <div><span class="field">resolution</span><span class="old-value">&blank;</span><span class="new-value">wontfix</span></div>
            <div><span class="field">status</span><span class="old-value">new</span><span class="new-value">closed</span></div></div>
          <div class="comments">
            <div class="comment">
              <p>The WG decided by unanimous consent to take no action on this ticket.</p></div></div></div></div></div></body></html>