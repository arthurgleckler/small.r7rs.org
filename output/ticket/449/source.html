
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>Source for ticket #449</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1>Source for ticket #449</h1>
    <h2>cc</h2>
    <pre></pre>
    <h2>changetime</h2>
    <pre>2012-10-09 21:58:22</pre>
    <h2>component</h2>
    <pre>WG1 - Core</pre>
    <h2>description</h2>
    <pre>R7RS currently says:

 Within a program, each imported library is loaded at least once, and, if imported by more than one program or library, may possibly be loaded additional times.

Richard Kelsey thinks this is too liberal, and proposes:

 Regardless of the number of times that a library is loaded, each program or library that imports bindings from a library will receive bindings from a single loading of that library, regardless of the number of `import` or `cond-expand` forms in which it appears.

Aaron Hsu, however, thinks this is too restrictive, and proposes (backed up by actual R6RS implementations):

 If a library's definitions are referenced in the expanded form of a program or library body, then that library must be loaded before the expanded program or library body is evaluated. This rule applies transitively.

 Similarly, during the expansion of a library, if a syntax keyword imported from a library is needed to expand the library, then the imported library must be visited before the expansion of the importing library.

</pre>
    <h2>id</h2>
    <pre>449</pre>
    <h2>keywords</h2>
    <pre></pre>
    <h2>milestone</h2>
    <pre></pre>
    <h2>owner</h2>
    <pre>cowan</pre>
    <h2>priority</h2>
    <pre>major</pre>
    <h2>reporter</h2>
    <pre>cowan</pre>
    <h2>resolution</h2>
    <pre>fixed</pre>
    <h2>severity</h2>
    <pre></pre>
    <h2>status</h2>
    <pre>closed</pre>
    <h2>summary</h2>
    <pre>Clarify library loading rules</pre>
    <h2>time</h2>
    <pre>2012-07-02 10:26:55</pre>
    <h2>type</h2>
    <pre>defect</pre>
    <h1>Changes</h1>
    <h2>Change at time 2012-10-09 21:58:22</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre></pre>
    <h2>oldvalue</h2>
    <pre>3</pre>
    <h2>raw-time</h2>
    <pre>1349794702345699</pre>
    <h2>ticket</h2>
    <pre>449</pre>
    <h2>time</h2>
    <pre>2012-10-09 21:58:22</pre>
    <h2>Change at time 2012-10-09 21:58:22</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>resolution</pre>
    <h2>newvalue</h2>
    <pre>fixed</pre>
    <h2>oldvalue</h2>
    <pre></pre>
    <h2>raw-time</h2>
    <pre>1349794702345699</pre>
    <h2>ticket</h2>
    <pre>449</pre>
    <h2>time</h2>
    <pre>2012-10-09 21:58:22</pre>
    <h2>Change at time 2012-10-09 21:58:22</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>closed</pre>
    <h2>oldvalue</h2>
    <pre>writing</pre>
    <h2>raw-time</h2>
    <pre>1349794702345699</pre>
    <h2>ticket</h2>
    <pre>449</pre>
    <h2>time</h2>
    <pre>2012-10-09 21:58:22</pre>
    <h2>Change at time 2012-08-27 06:33:55</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre></pre>
    <h2>oldvalue</h2>
    <pre>2</pre>
    <h2>raw-time</h2>
    <pre>1346024035874952</pre>
    <h2>ticket</h2>
    <pre>449</pre>
    <h2>time</h2>
    <pre>2012-08-27 06:33:55</pre>
    <h2>Change at time 2012-08-27 06:33:55</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>owner</pre>
    <h2>newvalue</h2>
    <pre>cowan</pre>
    <h2>oldvalue</h2>
    <pre>alexshinn</pre>
    <h2>raw-time</h2>
    <pre>1346024035874952</pre>
    <h2>ticket</h2>
    <pre>449</pre>
    <h2>time</h2>
    <pre>2012-08-27 06:33:55</pre>
    <h2>Change at time 2012-08-27 06:33:55</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>writing</pre>
    <h2>oldvalue</h2>
    <pre>decided</pre>
    <h2>raw-time</h2>
    <pre>1346024035874952</pre>
    <h2>ticket</h2>
    <pre>449</pre>
    <h2>time</h2>
    <pre>2012-08-27 06:33:55</pre>
    <h2>Change at time 2012-08-27 01:01:17</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>WG1 voted to adopt Hsu's proposal.</pre>
    <h2>oldvalue</h2>
    <pre>1</pre>
    <h2>raw-time</h2>
    <pre>1346004077959983</pre>
    <h2>ticket</h2>
    <pre>449</pre>
    <h2>time</h2>
    <pre>2012-08-27 01:01:17</pre>
    <h2>Change at time 2012-08-27 01:01:17</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>decided</pre>
    <h2>oldvalue</h2>
    <pre>new</pre>
    <h2>raw-time</h2>
    <pre>1346004077959983</pre>
    <h2>ticket</h2>
    <pre>449</pre>
    <h2>time</h2>
    <pre>2012-08-27 01:01:17</pre></body></html>