
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>Source for ticket #276</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1>Source for ticket #276</h1>
    <h2>cc</h2>
    <pre></pre>
    <h2>changetime</h2>
    <pre>2012-02-27 04:39:59</pre>
    <h2>component</h2>
    <pre>WG1 - Core</pre>
    <h2>description</h2>
    <pre>

</pre>
    <h2>id</h2>
    <pre>276</pre>
    <h2>keywords</h2>
    <pre></pre>
    <h2>milestone</h2>
    <pre></pre>
    <h2>owner</h2>
    <pre>alexshinn</pre>
    <h2>priority</h2>
    <pre>major</pre>
    <h2>reporter</h2>
    <pre>cowan</pre>
    <h2>resolution</h2>
    <pre>duplicate</pre>
    <h2>severity</h2>
    <pre></pre>
    <h2>status</h2>
    <pre>closed</pre>
    <h2>summary</h2>
    <pre>Ordering conventions for identifiers in modules</pre>
    <h2>time</h2>
    <pre>2011-09-08 04:15:53</pre>
    <h2>type</h2>
    <pre>defect</pre>
    <h1>Changes</h1>
    <h2>Change at time 2012-02-27 04:39:59</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>Yes, it should.  I screwed up.</pre>
    <h2>oldvalue</h2>
    <pre>5</pre>
    <h2>raw-time</h2>
    <pre>1330288799357802</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-27 04:39:59</pre>
    <h2>Change at time 2012-02-27 04:39:59</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>description</pre>
    <h2>newvalue</h2>
    <pre>

</pre>
    <h2>oldvalue</h2>
    <pre>'''New'''

</pre>
    <h2>raw-time</h2>
    <pre>1330288799357802</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-27 04:39:59</pre>
    <h2>Change at time 2012-02-27 04:39:59</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>resolution</pre>
    <h2>newvalue</h2>
    <pre>duplicate</pre>
    <h2>oldvalue</h2>
    <pre></pre>
    <h2>raw-time</h2>
    <pre>1330288799357802</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-27 04:39:59</pre>
    <h2>Change at time 2012-02-27 04:39:59</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>closed</pre>
    <h2>oldvalue</h2>
    <pre>reopened</pre>
    <h2>raw-time</h2>
    <pre>1330288799357802</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-27 04:39:59</pre>
    <h2>Change at time 2012-02-27 02:12:33</h2>
    <h2>author</h2>
    <pre>aag</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>If there's a replacement ticket, shouldn't this one remain closed?</pre>
    <h2>oldvalue</h2>
    <pre>4</pre>
    <h2>raw-time</h2>
    <pre>1330279953846655</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-27 02:12:33</pre>
    <h2>Change at time 2012-02-26 18:27:38</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>See replacement ticket #353.</pre>
    <h2>oldvalue</h2>
    <pre>3</pre>
    <h2>raw-time</h2>
    <pre>1330252058602943</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-26 18:27:38</pre>
    <h2>Change at time 2012-02-26 18:27:38</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>description</pre>
    <h2>newvalue</h2>
    <pre>'''New'''

</pre>
    <h2>oldvalue</h2>
    <pre>For ease of implementation, I think we should make it an error to refer to an identifier before it is imported or define an identifier before it is exported.  This allows modules to just do name control and not also have to be scopes.

So this would be an error (but still permitted as an extension in Schemes that can easily provide it):

{{{
(module
  (define x y)
  (import (something defining y))
  (export x))
}}}</pre>
    <h2>raw-time</h2>
    <pre>1330252058602943</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-26 18:27:38</pre>
    <h2>Change at time 2012-02-26 18:27:38</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>resolution</pre>
    <h2>newvalue</h2>
    <pre></pre>
    <h2>oldvalue</h2>
    <pre>invalid</pre>
    <h2>raw-time</h2>
    <pre>1330252058602943</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-26 18:27:38</pre>
    <h2>Change at time 2012-02-26 18:27:38</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>reopened</pre>
    <h2>oldvalue</h2>
    <pre>closed</pre>
    <h2>raw-time</h2>
    <pre>1330252058602943</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-26 18:27:38</pre>
    <h2>Change at time 2012-02-26 17:05:58</h2>
    <h2>author</h2>
    <pre>alexshinn</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>The example is broken, `define` is not a library declaration.
A possible example would have to be `(begin (define x y))`.

However this suggests a misunderstanding of the library
semantics as described in the draft - all declarations are
cond-expanded, an environment of all imports is created,
and then the library body is expanded.  There is no way
any code can interfere with the imports.

We could specify that all imports must occur before all
code (and presumably that all exports then must occur
before all imports as in R6RS), but I'm not sure of the
motivation for this, and am marking the ticket invalid
pending a clearer proposal.</pre>
    <h2>oldvalue</h2>
    <pre>2</pre>
    <h2>raw-time</h2>
    <pre>1330247158243911</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-26 17:05:58</pre>
    <h2>Change at time 2012-02-26 17:05:58</h2>
    <h2>author</h2>
    <pre>alexshinn</pre>
    <h2>field</h2>
    <pre>resolution</pre>
    <h2>newvalue</h2>
    <pre>invalid</pre>
    <h2>oldvalue</h2>
    <pre></pre>
    <h2>raw-time</h2>
    <pre>1330247158243911</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-26 17:05:58</pre>
    <h2>Change at time 2012-02-26 17:05:58</h2>
    <h2>author</h2>
    <pre>alexshinn</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>closed</pre>
    <h2>oldvalue</h2>
    <pre>new</pre>
    <h2>raw-time</h2>
    <pre>1330247158243911</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2012-02-26 17:05:58</pre>
    <h2>Change at time 2011-09-23 23:51:07</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>Chicken modules work like this, and it's compatible with R6RS.  See also [http://lists.r6rs.org/pipermail/r6rs-discuss/2009-September/005487.html The tale of Professor Simpleton and Dr. Hardcase].</pre>
    <h2>oldvalue</h2>
    <pre>1</pre>
    <h2>raw-time</h2>
    <pre>1316796667000000</pre>
    <h2>ticket</h2>
    <pre>276</pre>
    <h2>time</h2>
    <pre>2011-09-23 23:51:07</pre></body></html>