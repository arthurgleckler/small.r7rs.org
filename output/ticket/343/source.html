
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>Source for ticket #343</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1>Source for ticket #343</h1>
    <h2>cc</h2>
    <pre></pre>
    <h2>changetime</h2>
    <pre>2012-10-15 11:48:45</pre>
    <h2>component</h2>
    <pre>WG1 - Core</pre>
    <h2>description</h2>
    <pre>R5RS sometimes places the domain conditions of a procedure before its explanation.  For example, `map` is defined thus:

  The ''lists'' must be lists, and ''proc'' must be a procedure taking as many arguments as there are ''lists'' and returning a single value. If more than one ''list'' is given, then they must all be the same length. `Map` applies ''proc'' element-wise to the elements of the ''lists'' and returns a list of the results, in order. The dynamic order in which ''proc'' is applied to the elements of the ''lists'' is unspecified.

The equivalent language in R7RS draft 6 says:

  It is an error if ''proc'' does not accept as many arguments as there are ''lists'' and return a single value.  The `map` procedure applies ''proc'' element-wise to the elements of the ''lists'' and returns a list of the results, in order.  If more than one ''list'' is given and not all lists have the same length, `map` terminates when the shortest list runs out.  It is an error for ''proc'' to mutate any of the lists.  The dynamic order in which ''proc'' is applied to the elements of the ''lists'' is unspecified.  If multiple returns occur from `map`, the values returned by earlier returns are not mutated.

Note that the statement that the ''lists'' must be lists has been removed, being subsumed by the list of naming conventions in 1.3.3.

Cowan thinks this paragraph would be more readable if the purpose of `map` appeared first, as this is the topic sentence, thus:

  The `map` procedure applies ''proc'' element-wise to the elements of the ''lists'' and returns a list of the results, in order.  If more than one ''list'' is given and not all lists have the same length, `map` terminates when the shortest list runs out.  It is an error if ''proc'' does not accept as many arguments as there are ''lists'' and return a single value.  It is also an error for ''proc'' to mutate any of the lists.  The dynamic order in which ''proc'' is applied to the elements of the ''lists'' is unspecified.  If multiple returns occur from `map`, the values returned by earlier returns are not mutated.

Shinn disagrees and insists on a vote, although there is no difference in substance.
</pre>
    <h2>id</h2>
    <pre>343</pre>
    <h2>keywords</h2>
    <pre></pre>
    <h2>milestone</h2>
    <pre></pre>
    <h2>owner</h2>
    <pre>alexshinn</pre>
    <h2>priority</h2>
    <pre>major</pre>
    <h2>reporter</h2>
    <pre>cowan</pre>
    <h2>resolution</h2>
    <pre>fixed</pre>
    <h2>severity</h2>
    <pre></pre>
    <h2>status</h2>
    <pre>closed</pre>
    <h2>summary</h2>
    <pre>Editorial disagreement:  domain conditions before or after basic explanations?</pre>
    <h2>time</h2>
    <pre>2012-02-20 03:46:06</pre>
    <h2>type</h2>
    <pre>defect</pre>
    <h1>Changes</h1>
    <h2>Change at time 2012-10-15 11:48:45</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre></pre>
    <h2>oldvalue</h2>
    <pre>3</pre>
    <h2>raw-time</h2>
    <pre>1350276525143069</pre>
    <h2>ticket</h2>
    <pre>343</pre>
    <h2>time</h2>
    <pre>2012-10-15 11:48:45</pre>
    <h2>Change at time 2012-10-15 11:48:45</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>resolution</pre>
    <h2>newvalue</h2>
    <pre>fixed</pre>
    <h2>oldvalue</h2>
    <pre></pre>
    <h2>raw-time</h2>
    <pre>1350276525143069</pre>
    <h2>ticket</h2>
    <pre>343</pre>
    <h2>time</h2>
    <pre>2012-10-15 11:48:45</pre>
    <h2>Change at time 2012-10-15 11:48:45</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>closed</pre>
    <h2>oldvalue</h2>
    <pre>writing</pre>
    <h2>raw-time</h2>
    <pre>1350276525143069</pre>
    <h2>ticket</h2>
    <pre>343</pre>
    <h2>time</h2>
    <pre>2012-10-15 11:48:45</pre>
    <h2>Change at time 2012-05-20 14:40:41</h2>
    <h2>author</h2>
    <pre>alexshinn</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre></pre>
    <h2>oldvalue</h2>
    <pre>2</pre>
    <h2>raw-time</h2>
    <pre>1337499641056723</pre>
    <h2>ticket</h2>
    <pre>343</pre>
    <h2>time</h2>
    <pre>2012-05-20 14:40:41</pre>
    <h2>Change at time 2012-05-20 14:40:41</h2>
    <h2>author</h2>
    <pre>alexshinn</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>writing</pre>
    <h2>oldvalue</h2>
    <pre>decided</pre>
    <h2>raw-time</h2>
    <pre>1337499641056723</pre>
    <h2>ticket</h2>
    <pre>343</pre>
    <h2>time</h2>
    <pre>2012-05-20 14:40:41</pre>
    <h2>Change at time 2012-04-05 09:10:10</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>The WG voted to reject this proposal and leave the domain information in place, but to separate the additional domain restrictions from the initial description, as a separate short paragraph immediately following the prototype, possibly de-emphasized by making it smaller. This would keep the domain in one place and still allow the first line of the description stand out prominently in the initial paragraph.</pre>
    <h2>oldvalue</h2>
    <pre>1</pre>
    <h2>raw-time</h2>
    <pre>1333591810840456</pre>
    <h2>ticket</h2>
    <pre>343</pre>
    <h2>time</h2>
    <pre>2012-04-05 09:10:10</pre>
    <h2>Change at time 2012-04-05 09:10:10</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>decided</pre>
    <h2>oldvalue</h2>
    <pre>new</pre>
    <h2>raw-time</h2>
    <pre>1333591810840456</pre>
    <h2>ticket</h2>
    <pre>343</pre>
    <h2>time</h2>
    <pre>2012-04-05 09:10:10</pre></body></html>