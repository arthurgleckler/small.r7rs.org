
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>430: Formal Comment: clarify library loading rules</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1 class="ticket">Ticket 430: <span class="summary">Formal Comment: clarify library loading rules</span></h1>
    <div class="ticket metadata">
      <div class="changetime">2012-10-12 03:24:34</div>
      <div class="component">WG1 - Core</div>
      <div class="owner">cowan</div>
      <div class="priority">major</div>
      <div class="reporter">cowan</div>
      <div class="resolution">fixed</div>
      <div class="source"><a href="/ticket/430/source.html">source</a></div>
      <div class="status">closed</div>
      <div class="time">2012-07-02 02:19:00</div>
      <div class="type">defect</div></div>
    <div class="ticket">
      <div class="description">
        <p>Submitter's name: Richard Kelsey</p>
        <p>Submitter's email: kelsey at s48.org</p>
        <p>Relevant draft: r7rs draft 6</p>
        <p>Type: clarification</p>
        <p>Priority: minor</p>
        <p>Relevant section of draft: Libraries</p>
        <p>Summary: Library loading rules are unclear and overly permissive</p>
        <p>Page 27, Library syntax</p>
        <p>I suggest replacing</p>
        <p>&quot;A library is loaded zero or more times when it is imported
   by a program or by another library which is about to be
   loaded, but must be loaded at least once in every program
   in which it is so imported.&quot;</p>
        <p>with</p>
        <p>&quot;Within a program, each imported library is loaded at least once,
   and, if imported by more than one program or library, may possibly
   be loaded additional times.  Regardless of the number of times that
   a library is loaded, each program or library that imports bindings
   from a library will receive bindings from a single loading of
   that library, regardless of the number of import or
   cond-expand forms in which it appears.&quot;</p>
        <p>both for clarity, and to make it clear that, for example,</p><span class="monospace"> (import (prefix foo 'foo:))
 (import (only foo bar))
</span>
        <p>will cause bar and foo:bar to come from the same instantiation of
foo.</p></div>
      <div class="history">
        <div class="ticket change-group">
          <div class="metadata">
            <div class="author">cowan</div>
            <div class="time">2012-07-02 09:45:59</div></div>
          <div class="changes">
            <div><span class="field">owner</span><span class="old-value">alexshinn</span><span class="new-value">cowan</span></div>
            <div><span class="field">status</span><span class="old-value">new</span><span class="new-value">accepted</span></div></div>
          <div class="comments">
            <div class="comment"></div></div></div>
        <div class="ticket change-group">
          <div class="metadata">
            <div class="author">cowan</div>
            <div class="time">2012-10-12 03:24:34</div></div>
          <div class="changes">
            <div><span class="field">resolution</span><span class="old-value">&blank;</span><span class="new-value">fixed</span></div>
            <div><span class="field">status</span><span class="old-value">accepted</span><span class="new-value">closed</span></div></div>
          <div class="comments">
            <div class="comment"></div></div></div></div></div></body></html>