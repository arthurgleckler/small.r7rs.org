
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Copyright 2013 by Arthur A. Gleckler. All rights reserved. -->
    <title>Source for ticket #277</title>
    <link href="/trac.css" rel="stylesheet" type="text/css"></head>
  <body>
    <header>This site is a static rendering of the <a href="https://trac.edgewall.org/">Trac</a> instance that was used by <a href="http://scheme-reports.org/2015/working-group-1.html">R7RS-WG1</a> for its work on R7RS-small (<a href="/attachment/r7rs.pdf">PDF</a>), which was ratified in 2013. For more information, see <a href="/">Home</a>.</header>
    <ul class="navigation">
      <li><a href="/">Home</a></li>
      <li><a href="/ticket/">All tickets</a></li>
      <li><a href="/wiki/">All wiki pages</a></li></ul>
    <h1>Source for ticket #277</h1>
    <h2>cc</h2>
    <pre></pre>
    <h2>changetime</h2>
    <pre>2012-02-26 17:18:31</pre>
    <h2>component</h2>
    <pre>WG1 - Core</pre>
    <h2>description</h2>
    <pre>By allowing an evaluation function to be passed to `load`, it becomes possible to use it for languages other than Scheme expressed in S-expression syntax.  The function would receive an S-expression read from the file and the environment passed to `load`.</pre>
    <h2>id</h2>
    <pre>277</pre>
    <h2>keywords</h2>
    <pre></pre>
    <h2>milestone</h2>
    <pre></pre>
    <h2>owner</h2>
    <pre>alexshinn</pre>
    <h2>priority</h2>
    <pre>major</pre>
    <h2>reporter</h2>
    <pre>cowan</pre>
    <h2>resolution</h2>
    <pre>invalid</pre>
    <h2>severity</h2>
    <pre></pre>
    <h2>status</h2>
    <pre>closed</pre>
    <h2>summary</h2>
    <pre>Add another argument to load to be the evaluator</pre>
    <h2>time</h2>
    <pre>2011-09-08 22:01:05</pre>
    <h2>type</h2>
    <pre>defect</pre>
    <h1>Changes</h1>
    <h2>Change at time 2012-02-26 17:18:31</h2>
    <h2>author</h2>
    <pre>alexshinn</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>This seems too random.  There is no clear motivation or examples,
the status quo is widely implemented and sufficient for alternate
languages by specifying the env, and yet both solutions are
insufficient for languages with a different read syntax.

It's too late in the process to consider a change like this without
any precedent.</pre>
    <h2>oldvalue</h2>
    <pre>3</pre>
    <h2>raw-time</h2>
    <pre>1330247911031018</pre>
    <h2>ticket</h2>
    <pre>277</pre>
    <h2>time</h2>
    <pre>2012-02-26 17:18:31</pre>
    <h2>Change at time 2012-02-26 17:18:31</h2>
    <h2>author</h2>
    <pre>alexshinn</pre>
    <h2>field</h2>
    <pre>resolution</pre>
    <h2>newvalue</h2>
    <pre>invalid</pre>
    <h2>oldvalue</h2>
    <pre></pre>
    <h2>raw-time</h2>
    <pre>1330247911031018</pre>
    <h2>ticket</h2>
    <pre>277</pre>
    <h2>time</h2>
    <pre>2012-02-26 17:18:31</pre>
    <h2>Change at time 2012-02-26 17:18:31</h2>
    <h2>author</h2>
    <pre>alexshinn</pre>
    <h2>field</h2>
    <pre>status</pre>
    <h2>newvalue</h2>
    <pre>closed</pre>
    <h2>oldvalue</h2>
    <pre>new</pre>
    <h2>raw-time</h2>
    <pre>1330247911031018</pre>
    <h2>ticket</h2>
    <pre>277</pre>
    <h2>time</h2>
    <pre>2012-02-26 17:18:31</pre>
    <h2>Change at time 2011-09-23 23:43:40</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre>Possibilities:

env-only: status quo, default environment is `(interaction-environment)`

eval-only: eliminate the environment argument in favor of a evaluator argument, a one-argument procedure (by default, `(lambda (x) (eval x (interaction-environment))`

env-first: environment argument followed by evaluator argument, same defaults

eval-first: evaluator argument followed by environment argument, same defaults</pre>
    <h2>oldvalue</h2>
    <pre>2</pre>
    <h2>raw-time</h2>
    <pre>1316796220000000</pre>
    <h2>ticket</h2>
    <pre>277</pre>
    <h2>time</h2>
    <pre>2011-09-23 23:43:40</pre>
    <h2>Change at time 2011-09-12 04:35:44</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>comment</pre>
    <h2>newvalue</h2>
    <pre></pre>
    <h2>oldvalue</h2>
    <pre>1</pre>
    <h2>raw-time</h2>
    <pre>1315776944000000</pre>
    <h2>ticket</h2>
    <pre>277</pre>
    <h2>time</h2>
    <pre>2011-09-12 04:35:44</pre>
    <h2>Change at time 2011-09-12 04:35:44</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>summary</pre>
    <h2>newvalue</h2>
    <pre>Add another argument to load to be the evaluator</pre>
    <h2>oldvalue</h2>
    <pre>Add another argument to eval and load to be the evaluator</pre>
    <h2>raw-time</h2>
    <pre>1315776944000000</pre>
    <h2>ticket</h2>
    <pre>277</pre>
    <h2>time</h2>
    <pre>2011-09-12 04:35:44</pre>
    <h2>Change at time 2011-09-12 04:35:44</h2>
    <h2>author</h2>
    <pre>cowan</pre>
    <h2>field</h2>
    <pre>description</pre>
    <h2>newvalue</h2>
    <pre>By allowing an evaluation function to be passed to `load`, it becomes possible to use it for languages other than Scheme expressed in S-expression syntax.  The function would receive an S-expression read from the file and the environment passed to `load`.</pre>
    <h2>oldvalue</h2>
    <pre>`eval` currently takes an environment, and we are voting on whether to allow `load` to take one.  By allowing an evaluation function to be passed as well, it becomes possible to use the eval/load infrastructure for languages other than Scheme expressed in S-expression syntax.  This is a Good Thing.</pre>
    <h2>raw-time</h2>
    <pre>1315776944000000</pre>
    <h2>ticket</h2>
    <pre>277</pre>
    <h2>time</h2>
    <pre>2011-09-12 04:35:44</pre></body></html>